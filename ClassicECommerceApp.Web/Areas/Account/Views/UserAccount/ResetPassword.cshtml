@{
	@model ClassicECommerceApp.Web.Areas.Account.Models.ResetPasswordViewModel

}

<div class="tw-flex tw-items-center tw-justify-center tw-w-2/3 tw-h-full tw-bg-zinc-800 tw-my-1">
	<div class="tw-h-full tw-flex-grow tw-basis-7/12 tw-flex tw-items-center tw-justify-center">
		<div class="tw-h-full tw-flex tw-w-4/5 tw-flex-col tw-items-center tw-justify-start tw-relative">
			<!-- Logo -->
			<div class="tw-flex tw-justify-start tw-items-end tw-w-full tw-mt-24">
				<img class="tw-w-16 tw-h-16" src="~/images/circle_bananaback.png" alt="bananaback-logo" />
			</div>
			<!-- List -->
			<div class="tw-flex tw-flex-col tw-justify-center tw-items-start tw-w-full tw-mt-16">
				<h1 class="tw-text-white tw-text-4xl tw-font-bold tw-text-center">Become a </h1>
				<span class="tw-text-4xl tw-font-bold tw-text-center tw-mb-6 tw-text-green-600">ShopMaster 💚</span>
				<p class="tw-text-white tw-text-lg tw-text-center tw-mb-4">Join our community and enjoy exclusive benefits!</p>
				<ul class="tw-text-white tw-text-base tw-list-none tw-list-inside tw-text-left tw-mb-6">
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Track your purchases
					</li>
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Set your shopping goals
					</li>
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Receive personalized recommendations
					</li>
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Get exclusive discounts
					</li>
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Practice safe and secure shopping
					</li>
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Build and manage your wish list
					</li>
					<li>
						<div class="tw-rounded-full tw-bg-white tw-inline-block">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="1em" height="1em" class="tw-fill-green-500">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path>
							</svg>
						</div>
						Match with relevant products and deals
					</li>
				</ul>
			</div>
			<div class="tw-absolute tw-top-1/3 tw--right-12">
				<img src="~/images/shopping-icon.png" alt="shopping-icon" class="tw-w-64 tw-h-64" />
			</div>
		</div>
	</div>
	<div class="tw-h-full tw-bg-zinc-800 tw-flex-grow tw-basis-5/12 tw-flex tw-items-center tw-justify-center">
		<div class="tw-h-auto tw-bg-white tw-mx-2 tw-w-11/12 tw-rounded-lg tw-flex tw-justify-center">
			<div class="tw-w-5/6 tw-h-full tw-flex tw-flex-col tw-items-center tw-justify-start tw-gap-6">
				<h1 class="tw-w-full tw-text-xl tw-font-semibold tw-text-start tw-pt-8">Reset your password</h1>
				<div class="tw-flex tw-justify-between tw-gap-10">
					<ul class="tw-text-nowrap tw-text-xs tw-list-disc tw-font-medium tw-text-gray-500 marker:tw-text-green-600">
						<li>One lowercase character</li>
						<li>One uppercase character</li>
						<li>One number</li>
					</ul>
					<ul class="tw-text-nowrap tw-text-xs tw-list-disc tw-font-medium tw-text-gray-500 marker:tw-text-green-600">
						<li>One special character</li>
						<li>6 characters minimum</li>
					</ul>
				</div>
				<form asp-action="ResetPassword" method="post" class="tw-w-full tw-flex tw-flex-col tw-gap-4 tw-items-center tw-justify-center">
					@Html.AntiForgeryToken()
					<input type="hidden" asp-for="Token" />
					<input type="hidden" asp-for="Email" />

					<div asp-validation-summary="All" class="tw-text-red-500 tw-text-sm"></div>
					<label class="tw-w-full tw-text-start tw-text-base tw-font-semibold">New password</label>
					<div class="tw-w-full">
						<input asp-for="NewPassword" type="password" placeholder="new password" class="tw-w-full tw-border tw-border-[#d4d1d3] tw-rounded-[7px] tw-h-[40px] tw-px-[10px]" />
						<span asp-validation-for="NewPassword" class="tw-text-red-500 tw-text-sm"></span>
					</div>
					<label class="tw-w-full tw-text-start tw-text-base tw-font-semibold">Confirm new password</label>
					<div class="tw-w-full">
						<input asp-for="ConfirmNewPassword" type="password" placeholder="confirm new password" class="tw-w-full tw-border tw-border-[#d4d1d3] tw-rounded-[7px] tw-h-[40px] tw-px-[10px]" />
						<span asp-validation-for="ConfirmNewPassword" class="tw-text-red-500 tw-text-sm"></span>
					</div>
					<div class="tw-w-full">
						<button type="submit" class="tw-mb-8 tw-w-full tw-h-10 tw-bg-green-500 tw-cursor-pointer tw-text-white tw-font-semibold tw-rounded-lg">Reset password</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const form = document.querySelector('form');
			const passwordInput = document.querySelector('input[name="NewPassword"]');
			const confirmPasswordInput = document.querySelector('input[name="ConfirmNewPassword"]');

			passwordInput.addEventListener('input', function () {
				validatePassword(passwordInput);
				validateConfirmPassword();
				passwordInput.reportValidity();
			});

			confirmPasswordInput.addEventListener('input', function () {
				validateConfirmPassword();
				confirmPasswordInput.reportValidity();
			});

			form.addEventListener('submit', function (event) {
				validatePassword(passwordInput);
				validateConfirmPassword();

				if (!form.checkValidity()) {
					event.preventDefault();
					passwordInput.reportValidity();
					confirmPasswordInput.reportValidity();
				}
			});

			function validatePassword(input) {
				const password = input.value;
				const minLength = 6;
				const requireDigit = /\d/.test(password);
				const requireLowercase = /[a-z]/.test(password);
				const requireUppercase = /[A-Z]/.test(password);
				const requireNonAlphanumeric = /[^a-zA-Z0-9]/.test(password);

				let message = '';
				if (password.length < minLength) {
					message = "Password must be at least 6 characters long.";
				} else if (!requireDigit) {
					message = "Password must contain at least one digit.";
				} else if (!requireLowercase) {
					message = "Password must contain at least one lowercase letter.";
				} else if (!requireUppercase) {
					message = "Password must contain at least one uppercase letter.";
				} else if (!requireNonAlphanumeric) {
					message = "Password must contain at least one non-alphanumeric character.";
				}

				input.setCustomValidity(message);
			}

			function validateConfirmPassword() {
				if (passwordInput.value !== confirmPasswordInput.value) {
					confirmPasswordInput.setCustomValidity("Passwords do not match");
				} else {
					confirmPasswordInput.setCustomValidity("");
				}
			}
		});
	</script>
}
